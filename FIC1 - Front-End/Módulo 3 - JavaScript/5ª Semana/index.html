<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trabalho Prático da 5ª Semana</title>
  </head>
  <body>
    <h1>Trabalho Prático da 5ª Semana</h1>
    <hr />
  </body>
  <script>
    // const prompt = require('prompt-sync')();
    var array_escovas = [];

    do {
      console.log(".: OralCAD - Sistema de Cadastro de Escovas de Dentes :.");
      console.log("1 - Inserir Escova de Dentes");
      console.log("2 - Excluir Escova de Dentes");
      console.log("3 - Listar Escovas de Dentes");
      console.log("0 - Sair");

      var opcao = prompt("Digite sua opção: ");

      if (opcao == 1) {
        console.log("\n\nInserindo Escova de Dente...\n");
        let sku = "ED" + (array_escovas.length + 1 + "-BR");
        console.log("Cadastrando Escova de Dentes: " + sku);

        let tamanho = prompt("Tamanho da Escova (Adulto ou Infantil): ");
        let cor = prompt("Cor das Cerdas: ");
        let acabamento = prompt("Acabamento (Quadrado ou Arredondado): ");
        let modelo = prompt("Modelo (Básico ou Personalizado): ");
        let estampada = prompt("Estampa (Estampada ou Lisa): ");
        let estoque = parseInt(prompt("Quantidade em Estoque: "));
        let preco = prompt("Preço de Venda: ");

        const escova = {
          Sku: sku,
          Tamanho: tamanho,
          Cor: cor,
          Acabamento: acabamento,
          Modelo: modelo,
          Estampa: estampada,
          Estoque: estoque,
          Preço: preco,
        };
        inserir_escova(escova);
      } else if (opcao == 2) {
        console.log("\n\nExcluindo Escova de Dentes...\n");
        let sku = prompt("Digite o SKU que deseja excluir: ");
        excluir_escova(sku);
      } else if (opcao == 3) {
        console.log("\n\nListando Itens Cadastrados:\n\n");
        listar_escova();
      } else {
        console.log("\n\nEncerrando o Programa...\n");
      }

      prompt("\nEnter para continuar...");
      console.clear();
    } while (opcao != 0);

    function inserir_escova(escova) {
      array_escovas.push(escova);
    }

    function excluir_escova(sku) {
      array_escovas = array_escovas.filter((escova) => escova.Sku != sku);
    }

    function listar_escova() {
      array_escovas.forEach((escova) => {
        let q = array_escovas.indexOf(escova)+1;
        console.log(q + ": " + escova.Sku + " - " + escova.Tamanho + " " + escova.Modelo + " - " + escova.Acabamento + " - " + escova.Cor + " " + escova.Estampa + " - " + escova.Estoque + "uni em estoque - " + escova.Preço);
      });
    }


  </script>
</html>
